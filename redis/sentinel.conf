# Redis Sentinel Configuration for JunosCommander HA
# Provides automatic failover and service discovery

# Sentinel instance configuration
port 26379
sentinel announce-ip 0.0.0.0
sentinel announce-port 26379

# Directory for Sentinel data
dir /var/lib/redis-sentinel

# Monitor the master Redis instance
# Format: sentinel monitor <master-name> <ip> <port> <quorum>
sentinel monitor junoscommander-master redis 6379 2

# Authentication for master Redis
# sentinel auth-pass junoscommander-master your_redis_password

# How long to wait for master to be unreachable before starting failover
sentinel down-after-milliseconds junoscommander-master 5000

# Timeout for failover operations
sentinel failover-timeout junoscommander-master 10000

# How many replicas can be reconfigured simultaneously during failover
sentinel parallel-syncs junoscommander-master 1

# Logging
logfile /var/log/redis/sentinel.log
loglevel notice

# Security settings
# requirepass your_sentinel_password

# Deny dangerous commands
sentinel deny-scripts-reconfig yes

# Notification scripts (optional)
# sentinel notification-script junoscommander-master /path/to/notify.sh
# sentinel client-reconfig-script junoscommander-master /path/to/reconfig.sh